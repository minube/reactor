var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf3=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _propTypes=require("prop-types");var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _Activity=_interopRequireDefault(require("../Activity"));var _Image=_interopRequireDefault(require("./Image.style"));var _resizeWithAkamai=_interopRequireDefault(require("./modules/resizeWithAkamai"));var _jsxFileName="/Users/soyjavi/git/minube/reactor/components/Image/Image.js";var Image=function(_PureComponent){(0,_inherits2.default)(Image,_PureComponent);function Image(){var _getPrototypeOf2;var _this;(0,_classCallCheck2.default)(this,Image);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=(0,_possibleConstructorReturn2.default)(this,(_getPrototypeOf2=(0,_getPrototypeOf3.default)(Image)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={ready:false};_this._onLoad=function(event){var _assertThisInitialize=(0,_assertThisInitialized2.default)(_this),inherit=(0,_extends2.default)({},_assertThisInitialize.props);_this.setState({ready:true});if(inherit.onLoad)inherit.onLoad(event);};return _this;}(0,_createClass2.default)(Image,[{key:"render",value:function render(){var _onLoad=this._onLoad,_this$props=this.props,ratio=_this$props.ratio,responsive=_this$props.responsive,inherit=(0,_objectWithoutProperties2.default)(_this$props,["ratio","responsive"]),ready=this.state.ready;var _inherit$source=inherit.source;_inherit$source=_inherit$source===void 0?{}:_inherit$source;var uri=_inherit$source.uri;if(responsive&&uri)uri=(0,_resizeWithAkamai.default)({uri:uri,ratio:ratio});return _react.default.createElement(_reactNative.View,{style:[_Image.default.container,inherit.styleContainer||inherit.style],__source:{fileName:_jsxFileName,lineNumber:42}},_react.default.createElement(_reactNative.Image,(0,_extends2.default)({},inherit,{source:uri?{uri:uri}:undefined,onLoad:_onLoad,__source:{fileName:_jsxFileName,lineNumber:43}})),!ready&&_react.default.createElement(_Activity.default,{color:"white",size:inherit.size||'large',style:_Image.default.activity,__source:{fileName:_jsxFileName,lineNumber:48}}));}}]);return Image;}(_react.PureComponent);Image.propTypes={ratio:_propTypes.number,responsive:_propTypes.bool};Image.defaultProps={ratio:1,responsive:false};var _default=Image;exports.default=_default;