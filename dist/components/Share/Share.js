var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _assertThisInitialized2=_interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var _propTypes=require("prop-types");var _react=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _common=require("../../common");var _Button=_interopRequireDefault(require("../Button"));var _Dialog=_interopRequireDefault(require("../Dialog"));var _Icon=_interopRequireDefault(require("../Icon"));var _Text=_interopRequireDefault(require("../Text"));var _Touchable=_interopRequireDefault(require("../Touchable"));var _Share=_interopRequireDefault(require("./Share.style"));var _jsxFileName="/Users/soyjavi/git/minube/reactor/components/Share/Share.js";var IS_WEB=_common.ENV.IS_WEB;var shareNative=IS_WEB?undefined:require('react-native').Share.share;var OPTIONS=[{icon:'facebook',title:'Facebook',uri:'https://www.facebook.com/sharer/sharer.php?u='},{icon:'twitter',title:'Twitter',uri:'http://www.twitter.com/share?url='},{icon:'email',title:'Email',uri:'mailto:?&body='},{icon:'linkedin',title:'Linkedin',uri:'https://www.linkedin.com/shareArticle?mini=true&url='},{icon:'google',title:'Google Plus',uri:'https://plus.google.com/share?url='}];var Share=function(_PureComponent){(0,_inherits2.default)(Share,_PureComponent);function Share(props){var _this;(0,_classCallCheck2.default)(this,Share);_this=(0,_possibleConstructorReturn2.default)(this,(0,_getPrototypeOf2.default)(Share).call(this,props));_this._onCancel=function(){var _assertThisInitialize=(0,_assertThisInitialized2.default)(_this),onCancel=_assertThisInitialize.props.onCancel;_this.setState({visible:false});onCancel();};_this._onOption=function(baseUri){var _assertThisInitialize2=(0,_assertThisInitialized2.default)(_this),_assertThisInitialize3=_assertThisInitialize2.props,onOption=_assertThisInitialize3.onOption,uri=_assertThisInitialize3.uri;window.open(""+baseUri+uri,'_target');onOption();};_this._onPress=function(){var _assertThisInitialize4=(0,_assertThisInitialized2.default)(_this),_assertThisInitialize5=_assertThisInitialize4.props,caption=_assertThisInitialize5.caption,onPress=_assertThisInitialize5.onPress,title=_assertThisInitialize5.title,uri=_assertThisInitialize5.uri;if(IS_WEB){_this.setState({visible:true});}else{shareNative({url:uri,title:title,message:caption});}onPress();};_this.state={visible:false};return _this;}(0,_createClass2.default)(Share,[{key:"render",value:function render(){var _onCancel=this._onCancel,_onOption=this._onOption,_onPress=this._onPress,_this$props=this.props,caption=_this$props.caption,optionColor=_this$props.optionColor,inherit=(0,_objectWithoutProperties2.default)(_this$props,["caption","optionColor"]),visible=this.state.visible;return _react.default.createElement(_reactNative.View,{pointerEvents:"auto",__source:{fileName:_jsxFileName,lineNumber:85}},_react.default.createElement(_Button.default,(0,_extends2.default)({},inherit,{icon:"shareContrast",onPress:_onPress,__source:{fileName:_jsxFileName,lineNumber:86}})),IS_WEB&&_react.default.createElement(_Dialog.default,{title:inherit.title,visible:visible,onClose:_onCancel,style:_Share.default.dialog,__source:{fileName:_jsxFileName,lineNumber:89}},_react.default.createElement(_Text.default,{lighten:true,level:2,__source:{fileName:_jsxFileName,lineNumber:95}},caption),_react.default.createElement(_reactNative.View,{style:_Share.default.options,__source:{fileName:_jsxFileName,lineNumber:98}},OPTIONS.map(function(_ref){var title=_ref.title,icon=_ref.icon,uri=_ref.uri;return _react.default.createElement(_Touchable.default,{key:title,onPress:function onPress(){return _onOption(uri);},style:_Share.default.option,__source:{fileName:_jsxFileName,lineNumber:100}},_react.default.createElement(_Icon.default,{value:icon,style:_Share.default.icon,__source:{fileName:_jsxFileName,lineNumber:101}}),_react.default.createElement(_Text.default,{color:optionColor,__source:{fileName:_jsxFileName,lineNumber:102}},title));}))));}}]);return Share;}(_react.PureComponent);Share.propTypes={caption:_propTypes.string,onCancel:_propTypes.func,onOption:_propTypes.func,onPress:_propTypes.func,optionColor:_propTypes.string,title:_propTypes.string,uri:_propTypes.string.isRequired};Share.defaultProps={caption:undefined,onCancel:function onCancel(){},onOption:function onOption(){},onPress:function onPress(){},optionColor:undefined,title:'Share'};var _default=Share;exports.default=_default;